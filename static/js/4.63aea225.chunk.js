(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[4],{1696:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"e",(function(){return u}));n(327),n(1892);var r="rgw6ez16n rgw6ez10b rgw6ez6bp rgw6eznb rgw6eznn",a="tq1lvn2",c="rgw6ez5zd rgw6eztz rgw6ez13t rgw6ez675 rgw6ez5y9 rgw6ez4lz",i="tq1lvn6 rgw6ez175 rgw6ez13t rgw6ez3zh rgw6ezbz rgw6ez9z rgw6ez3xz rgw6ez2n rgw6ez40t rgw6ez3z rgw6ez5z1",s="tq1lvn8 rgw6ez679 rgw6ez5y9 rgw6ez4m5",o="tq1lvna rgw6ez2hz rgw6ez2ch rgw6ez21h rgw6ez27b",u="rgw6ez2nh rgw6ez5yt rgw6ez4lz rgw6ez5y9 rgw6ez679"},1697:function(t,e,n){"use strict";n.d(e,"a",(function(){return E})),n.d(e,"g",(function(){return _})),n.d(e,"d",(function(){return P})),n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return p})),n.d(e,"h",(function(){return b})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return T}));var r=n(4),a=n.n(r),c=n(47),i=n(15),s=n(26),o=(n(69),n(692)),u=n(279),l=n(1666),d=function(t){var e=t.listing,n=t.newStatus,r=t.rows,a=t.setRows,c=t.callback,i=Object(s.a)(r),o=r.findIndex((function(t){return t===e}));e.status=n,c&&(e.callback=c),i[o]=e,a(i)};function E(t,e,n,r,a,c){return A.apply(this,arguments)}function A(){return(A=Object(i.a)(a.a.mark((function t(e,n,r,c,i,s){var A,_,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d({listing:e,newStatus:u.d.SIGNING,rows:n,setRows:r,callback:function(){return E(e,n,r,c,i,s)}}),A=e.marketplace,_=e.collectionAddress,f="OpenSea"===A.name?o.c:"Rarible"===A.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_API_ENDPOINT:"https://beta.api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT:"X2Y2"===A.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_API_ENDPOINT:"https://beta.api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_X2Y2_TRANSFER_CONTRACT:i,t.next=5,Object(l.b)(null!==f&&void 0!==f?f:"",_,c,(function(t){return d({listing:e,newStatus:t,rows:n,setRows:r})}));case 5:e.status!==u.d.REJECTED&&e.status!==u.d.FAILED||s();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,n,r,a,c,i,s){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark((function t(e,n,r,c,i,s,o,E){var A,f,P,g,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A=s(),d({listing:e,newStatus:u.d.SIGNING,rows:n,setRows:r,callback:function(){return _(e,n,r,c,i,s,o,E)}}),f=e.asset,P=e.marketplace,t.next=5,Object(l.c)(P,f,c,i,A,(function(t){return d({listing:e,newStatus:t,rows:n,setRows:r})}));case 5:g=t.sent,e.status===u.d.REJECTED?E():(g&&"LooksRare"===e.marketplace.name&&o(A+1),p=g?u.d.APPROVED:u.d.FAILED,d({listing:e,newStatus:p,rows:n,setRows:r}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=function(t){var e=t.reduce((function(t,e){var n;if(null===(n=e.newListings)||void 0===n?void 0:n.length){var r,a,c=e.newListings.reduce((function(t,e){var n,r;return(null!==(n=t.price)&&void 0!==n?n:0)>(null!==(r=e.price)&&void 0!==r?r:0)?t:e}));return t+(null!==(r=c.price)&&void 0!==r?r:0)-(null!==(a=c.price)&&void 0!==a?a:0)*(c.marketplace.fee/100+e.creatorPercentage)}return t}),0);return e?Math.round(100*e+Number.EPSILON)/100:0},g=function(t){var e=[],n=[];return t.forEach((function(t){var r;null===(r=t.marketplaces)||void 0===r||r.forEach((function(r){var a={images:[t.image_preview_url,r.icon],name:t.name||"#".concat(t.tokenId),status:u.d.DEFINED,asset:t,marketplace:r};if(n.push(a),!e.some((function(e){return e.collectionAddress===t.asset_contract.address&&e.marketplace.name===r.name}))){var c={images:[t.asset_contract.image_url,r.icon],name:t.asset_contract.name,status:u.d.DEFINED,collectionAddress:t.asset_contract.address,marketplace:r};e.push(c)}}))})),[e,n]},p=function(t,e){var n=!0,r=!0,a=!0,i=!0,s=!0,o=!1,l=!1,d=!1,E=!1;0===t.length&&(s=i=!1);var A,_=Object(c.a)(t);try{for(_.s();!(A=_.n()).done;){var f=A.value;f.status!==u.d.PENDING&&(i=!1),f.status!==u.d.DEFINED&&(s=!1),f.status===u.d.SIGNING?o=!0:f.status===u.d.FAILED?l=!0:f.status===u.d.REJECTED?d=!0:f.status===u.d.PAUSED&&(E=!0)}}catch(b){_.e(b)}finally{_.f()}0===e.length&&(a=r=n=!1);var P,g=Object(c.a)(e);try{for(g.s();!(P=g.n()).done;){var p=P.value;p.status!==u.d.PENDING&&(n=!1),p.status!==u.d.DEFINED&&(r=!1),p.status!==u.d.APPROVED&&(a=!1),p.status===u.d.SIGNING?o=!0:p.status===u.d.FAILED?l=!0:p.status===u.d.REJECTED?d=!0:p.status===u.d.PAUSED&&(E=!0)}}catch(b){g.e(b)}finally{g.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:a,allCollectionsPending:i,allCollectionsDefined:s,anyActiveSigning:o,anyActiveFailures:l,anyActiveRejections:d,anyPaused:E}},b=function(t){return t!==u.d.PAUSED&&t!==u.d.APPROVED},O=function(t,e,n){t.status!==u.d.PENDING&&t.status!==u.d.DEFINED||d({listing:t,newStatus:u.d.PAUSED,rows:e,setRows:n})},T=function(t,e,n){t.status!==u.d.PAUSED&&t.status!==u.d.FAILED&&t.status!==u.d.REJECTED||d({listing:t,newStatus:u.d.DEFINED,rows:e,setRows:n})}},1728:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n(47),a=n(11),c=n(159),i=n(76),s=n(117),o=n(137),u=n(328),l=n(219),d=n(279),E=n(1661),A=n(1),_=n(1696),f=n(1697),P=n(0),g=function(t){var e=t.onClick,n=t.buttonText,g=t.showWarningOverride,p=void 0!==g&&g,b=Object(l.k)((function(t){return t.sellAssets})),O=Object(l.k)((function(t){return t.addMarketplaceWarning})),T=Object(l.k)((function(t){return t.removeAllMarketplaceWarnings})),h=Object(l.i)((function(t){return t.listingStatus})),R=Object(l.i)((function(t){return t.setListingStatus})),w=Object(l.i)((function(t){return t.setListings})),v=Object(l.i)((function(t){return t.setCollectionsRequiringApproval})),I=Object(A.useState)(!1),S=Object(a.a)(I,2),D=S[0],C=S[1],j=Object(A.useState)(!1),N=Object(a.a)(j,2),m=N[0],z=N[1],k=Object(A.useRef)(null);Object(c.a)(k,(function(){C(!1)})),Object(A.useEffect)((function(){var t=Object(f.c)(b),e=Object(a.a)(t,2),n=e[0],r=e[1];w(r),v(n),R(d.d.DEFINED)}),[b]);var L=Object(A.useMemo)((function(){var t,e=b.some((function(t){return void 0===t.marketplaces||0===t.marketplaces.length})),n=b.some((function(t){return null!=t.expirationTime&&t.expirationTime-Date.now()<6e4})),a=b.some((function(t){return null!=t.expirationTime&&isNaN(t.expirationTime)})),c=b.some((function(t){return null!=t.expirationTime&&t.expirationTime-Date.now()>15552e6})),i=[],s=[],o=[],u=[],l=Object(r.a)(b);try{for(l.s();!(t=l.n()).done;){var d=t.value;if(d.newListings){var E,A=Object(r.a)(d.newListings);try{for(A.s();!(E=A.n()).done;){var _=E.value;_.price?isNaN(_.price)||_.price<0?u.push([d,_]):_.price<d.floorPrice&&!_.overrideFloorPrice?s.push([d,_]):d.floor_sell_order_price&&_.price>d.floor_sell_order_price&&o.push([d,_]):i.push([d,_])}}catch(P){A.e(P)}finally{A.f()}}}}catch(P){l.e(P)}finally{l.f()}var f=0===s.length&&0===o.length;return z(f),[e,n,a,c,i,s,o,u]}),[b]),F=Object(a.a)(L,8),x=F[0],y=F[1],W=F[2],G=F[3],K=F[4],U=F[5],Y=F[6],M=F[7],J=Object(A.useMemo)((function(){return[x||y||W||G||M.length>0||K.length>0,x?"No marketplaces selected":y?"Set duration":W?"Invalid duration":G?"Max duration is 6 months":K.length>0?"".concat(K.length," item price").concat(Object(E.a)(K.length)," not set"):M.length>0?"".concat(M.length," price").concat(Object(E.a)(M.length)," are invalid"):U.length>0?"".concat(U.length," item").concat(Object(E.a)(U.length)," listed below floor"):Y.length>0?"".concat(Y.length," item").concat(Object(E.a)(Y.length)," already listed"):""]}),[x,y,W,G,K,M,U,Y]),B=Object(a.a)(J,2),H=B[0],V=B[1];Object(A.useEffect)((function(){C(!1)}),[V]);var X=function(){!H&&m||p?e():function(){if(T(),!y&&!x)if(K.length>0){var t,e=Object(r.a)(K);try{for(e.s();!(t=e.n()).done;){var n=Object(a.a)(t.value,2),c=n[0],i=n[1];O(c,{message:"PLEASE SET A PRICE",marketplace:i.marketplace})}}catch(E){e.e(E)}finally{e.f()}}else if(M.length>0){var s,o=Object(r.a)(M);try{for(o.s();!(s=o.n()).done;){var u=Object(a.a)(s.value,2),l=u[0],d=u[1];!d.overrideFloorPrice&&O(l,{message:"INVALID PRICE",marketplace:d.marketplace})}}catch(E){o.e(E)}finally{o.f()}}C(!0)}()};return Object(P.jsxs)(i.b,{position:"relative",width:"full",children:[!p&&D&&V.length>0&&Object(P.jsxs)(s.c,{className:"".concat(u.c," ").concat(_.g),transition:"250",onClick:function(){return C(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:H?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:H?"nowrap":"wrap",style:{maxWidth:H?"":"225px"},ref:k,children:[Object(P.jsx)(o.G,{}),Object(P.jsx)(i.b,{marginLeft:"4",marginRight:"8",children:V}),H?Object(P.jsx)(i.b,{paddingTop:"6",children:Object(P.jsx)(o.qb,{fill:"textSecondary",height:"20",width:"20"})}):Object(P.jsxs)(s.c,{marginLeft:"72",cursor:"pointer",color:"genieBlue",onClick:function(){C(!1),z(!0),e()},children:["Continue",Object(P.jsx)(o.b,{height:"20",width:"20"})]})]}),Object(P.jsx)(i.b,{as:"button",border:"none",backgroundColor:"genieBlue",cursor:[d.d.APPROVED,d.d.PENDING,d.d.SIGNING].includes(h)||H?"default":"pointer",color:"explicitWhite",className:_.a,onClick:function(){return h!==d.d.APPROVED&&X()},type:"button",style:{opacity:![d.d.DEFINED,d.d.FAILED,d.d.CONTINUE].includes(h)||H?.3:1},children:h===d.d.SIGNING||h===d.d.PENDING?Object(P.jsxs)(s.c,{gap:"8",children:[Object(P.jsx)(o.K,{stroke:"backgroundSurface",height:"20",width:"20"}),h===d.d.PENDING?"Pending":"Proceed in wallet"]}):h===d.d.APPROVED?"Complete!":h===d.d.PAUSED?"Paused":h===d.d.FAILED?"Try again":h===d.d.CONTINUE?"Continue":n})]})}},1892:function(t,e,n){}}]);
//# sourceMappingURL=4.63aea225.chunk.js.map